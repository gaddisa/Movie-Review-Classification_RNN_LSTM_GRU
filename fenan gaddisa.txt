<div class="row">
    <!-- Notice Section -->
    <div class="col-12 mb-4">
        <div class="alert alert-info" role="alert">
            <h5 class="alert-heading"><i class="fas fa-info-circle me-2"></i>Important Notice</h5>
            <p class="mb-0">
                <strong>If the question requires a table:</strong> Consider changing that narrative question to an attachment 
                and set its type to "Table". The user can then upload a PDF that contains the table.
            </p>
        </div>
    </div>

    <!-- Name Field -->
    <div class="col-12 col-sm-10 mb-3">
        <div class="form-group">
            <?php
            $field_name = 'question_text';
            $field_label = label_case('Question Text');
            $field_placeholder = $field_label;
            $required = 'required';
            ?>
            {{ html()->label($field_label, $field_name)->class('form-label') }}
            {!! field_required($required) !!}
            {{ html()->textarea($field_name)->placeholder($field_placeholder)->class('form-control')->attributes(["$required"]) }}
        </div>
    </div>
</div>

<x-library.select2 />

<!-- Add hidden input for dct_id dynamically -->
@push('after-scripts')
    <script type="module">
        $(document).ready(function() {
            // Grab the 'id' parameter from the URL (query string)
            const urlParams = new URLSearchParams(window.location.search);
            const indicator_id = urlParams.get('id'); // Get the 'id' from the query string

            // If 'dct_id' is present, dynamically add it to the form
            if (indicator_id) {
                // Create a hidden input field and append it to the form
                const hiddenInput = $('<input>', {
                    type: 'hidden',
                    name: 'indicator_id',
                    value: indicator_id
                });

                // Append the hidden input to the form
                $('form').append(hiddenInput);
            }
        });
    </script>
@endpush
